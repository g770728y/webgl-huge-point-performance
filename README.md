> 注：我的macbookpro2015在测试时，同样的场景在不同的时间分别测试，可能存在相当大的差异。比如百万相邻点，有时可快到60fps，但有时慢到30fps。但下面的结论都是反复测试而得，仍具参考价值。

# 落在显示区域点的多少影响性能
一个1000*1000的区域有100万个完全相邻的点<br />经测试，1000万个点，如果只有100万个点落在显示区域内，则性能可达30fps<br />反之，如果全部落在显示区域内，则只有3fps以下

# 颜色数量的多少对性能影响很小
经测试，100万个点，如果点的颜色全部相同，则可达43fps<br />但如果每个点颜色不同，则40fps, 减3fps左右，影响很小

# Shader内，矢量乘常数性能有问题?
见下面代码的注释，影响相当大
```glsl
export const vertexSrc = `
  precision highp float;
attribute vec2 aPos;
// attribute float aColor; 
// varying float vColor;
attribute lowp vec4 aScale;
uniform mat3 uProjMatrix;

void main() {
  ///////////////////////// 矢量乘常数 slow!!! 100万顶点只有3fps
  // gl_Position = vec4( (uProjMatrix * vec3(aPos, 1.0)).xy * aScale, 0.0 , 1.0);
  
  ///////////////////////// 改成矩阵乘常数 fast!!! 100万顶点60fps
  // gl_Position = vec4((uProjMatrix * vec3(aPos, 1.0)).xy, 0.0 , 1.0)*aScale;
  }
```

# 线段长度对性能影响非常大
原因：线段越长，插值算法调用数越大。可以想见，如果线段长度长，而且颜色还不同，性能更差<br />在100万个顶点时: 

| 线段长 | fps | gpu |
| --- | --- | --- |
| 1414 / 2 = 707 | 0.9 | 40 / 25 |
| 1414 / 4 = 353.5 | 1.1 | 36 / 20 |
| 1414 / 8 = 176.75 | 1.9 | 34 / 19 |
| 1414 / 16 = 88.375 | 3.1 | 36 / 20 |
| 1414 / 32 = 44.18 | 5.5 | 44 / 25 |
| 1414 / 128 = 11 | 16 | 39 / 32 |
| 1414 / 500 = 2.828 | 28 | 33 / 23 |
| 1414 / 1000 = 1.414 | 38 | 33 / 22 |
| 1414 / 2000 = 0.707 | 42 | 23 / 17 |
| 1414 / 5000 = 0.2828 | 44 | 24 / 17 |
| 1000 / 1000 = 1  (线段长1, 不插值 ) | 47 | 24 / 15 |

# attribute精度影响
对于color, 如果这样定义:
```glsl
attribute vec4 color;   => 40fps
```
与这样定义:
```glsl
attribute lowp vec4 color;	  => 41fps
```
百万点差距很小，可忽略
